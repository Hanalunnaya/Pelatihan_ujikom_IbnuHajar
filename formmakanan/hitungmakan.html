<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pemesanan Makanan Makanan</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="container mt-4">
    <h2 class="text-center">Hitung Harga Makanan</h2>
    <table class="table table-bordered text-center">
      <thead class="table-primary">
        <tr>
          <th>Nama Makanan</th>
          <th>Harga (Rp)</th>
          <th>Jumlah</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Nasi Goreng</td>
          <td><span class="harga">10000</span></td>
          <td>
            <input
              type="number"
              class="jumlah form-control"
              min="0"
              value="0"
              oninput="hitungTotal(this)"
            />
          </td>
          <td><span class="total">0</span></td>
        </tr>
        <tr>
          <td>Ayam Goreng</td>
          <td><span class="harga">12000</span></td>
          <td>
            <input
              type="number"
              class="jumlah form-control"
              min="0"
              value="0"
              oninput="hitungTotal(this)"
            />
          </td>
          <td><span class="total">0</span></td>
        </tr>
        <tr>
          <td>Es Teh</td>
          <td><span class="harga">2000</span></td>
          <td>
            <input
              type="number"
              class="jumlah form-control"
              min="0"
              value="0"
              oninput="hitungTotal(this)"
            />
          </td>
          <td><span class="total">0</span></td>
        </tr>
        <tr>
          <td>Kopi</td>
          <td><span class="harga">3000</span></td>
          <td>
            <input
              type="number"
              class="jumlah form-control"
              min="0"
              value="0"
              oninput="hitungTotal(this)"
            />
          </td>
          <td><span class="total">0</span></td>
        </tr>
      </tbody>
      <tfoot>
        <tr class="table-dark">
          <td colspan="3"><strong>Total Semua</strong></td>
          <td>
            <strong><span id="total-semua">0</span></strong>
          </td>
        </tr>
      </tfoot>
    </table>
    <button class="btn btn-primary" onclick="hitungSemua()">
      Hitung Total
    </button>

    <script>
      function hitungTotal(input) {
        let row = input.closest("tr");
        let harga = parseInt(row.querySelector(".harga").innerText);
        let jumlah = parseInt(input.value) || 0;
        let total = harga * jumlah;
        row.querySelector(".total").innerText = total;
        hitungSemua();
      }

      function hitungSemua() {
        let totalSemua = 0;
        document.querySelectorAll(".total").forEach((span) => {
          totalSemua += parseInt(span.innerText) || 0;
        });
        document.getElementById("total-semua").innerText = totalSemua;
      }
    </script>
  </body>
</html>
